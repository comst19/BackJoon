package Gold;

import java.util.*;

class time implements Comparable<time>{
	int s, e;
	public time(int s, int e) {
		this.s = s;
		this.e = e;
	}
	@Override
	public int compareTo(time o) {
		// TODO Auto-generated method stub
		return this.s - o.s;
	}
	
}

class seat implements Comparable<seat>{
	int e, idx;
	public seat(int e, int idx) {
		this.e = e;
		this.idx = idx;
	}
	@Override
	public int compareTo(seat o) {
		// TODO Auto-generated method stub
		if(this.e == o.e) return this.idx - o.idx; 
		return this.e - o.e;
	}
}

public class G3_12764 {

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		Scanner sc = new Scanner(System.in);
		int n = sc.nextInt();
		int[] ch = new int[n];
		
		time[] times = new time[n];
		PriorityQueue<seat> seats = new PriorityQueue<>();
		
		for(int i = 0; i < n; i++) {
			int s = sc.nextInt();
			int e = sc.nextInt();
			times[i] = new time(s,e);
		}
		
		Arrays.sort(times);
		
		int idx = 0;
		for(time t : times) {
			if(seats.isEmpty()) {
				seats.offer(new seat(t.e, idx));
				ch[idx] = 1;
				idx++;
			}
			else {
				ArrayList<seat> temp = new ArrayList<>();
				while(!seats.isEmpty()) {
					seat tmp = seats.poll();
					if(tmp.e <= t.s) tmp.e = 0;
					temp.add(tmp);
				}
				for(seat tmp : temp) seats.offer(tmp);
				
				if(seats.peek().e > t.s) {
					seats.offer(new seat(t.e, idx));
					ch[idx] = 1;
					idx++;
				}else {
					seat tmp = seats.poll();
					tmp.e = t.e;
					ch[tmp.idx]++;
				}
			}
		}
		System.out.println(idx);
		for(int i = 0; i < idx; i++) System.out.print(ch[i] + " ");
	}

}
